base_task:
    variables:
        origin_path: '{{arg1}}'
    source: pt -g ^ {{origin_path}} | sed -e 's%^\./%%' -e 's%^//%/%'
    options:
        - multi
        - reverse
        - select-1
        - header='$(readlink -e {{origin_path}})'
        - query={{arg2}}
        - preview='cat {}'
    post_operations:
        enter:
            - join
task_switch:
    alt-a:
        source: find {{origin_path}}
    alt-h:
        source: find {{origin_path}} -type f
    alt-d:
        source: find {{origin_path}} -type d
    alt-u:
        variables:
            origin_path: '{{origin_path}}/..'

