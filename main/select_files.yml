base_task:
    input: bash {ymldir}/select_files.sh '{arg2}'
    transform: perl {ymldir}/relative_path.pl '{arg2}'
    opts:
        - multi
        - no-sort
        - layout=reverse-list
        - header="$(readlink -e {arg2})"
    query: '{arg3} '
    preview: echo {} | bash {ymldir}/preview.sh
    output:
      enter:
        - pipe: tr '\n' ' '
switch_task:
    ctrl-d:
        input: bash {ymldir}/select_files.sh '{arg2}' -d
    alt-enter:
        input: bash {ymldir}/select_files.sh '{pre_content}'
        transform: perl {ymldir}/relative_path.pl '{pre_content}'
        opts:
          - header="$(readlink -e {pre_content})"
        preview: echo {} | bash {ymldir}/preview.sh
        query: ''
        output:
          enter:
            - pipe: tr '\n' ' '
